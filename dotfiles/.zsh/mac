function have() {
    which $1 &>/dev/null
}

# GNU utils
have gls && alias ls='gls --color=auto -ahFG'
have gls && alias ll='gls --color=auto -alhFG'
have gsed && alias sed=gsed && alias esed='gsed -r'
have grm && alias rm=grm
have gxargs && alias xargs=gxargs

# syntax highlighting
export _syntax_highlighting="/usr/local/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh"

arch=$(uname -m)
case ${arch} in
    x86_64)
        BREW="/usr/local/bin/brew"
        ;;

    arm64)
        BREW="/opt/homebrew/bin/brew"
        ;;

    *)
        echo "unsupported architecture ${arch}" && exit 1
        ;;
esac

eval "$(${BREW} shellenv)"
